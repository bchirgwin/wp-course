# config projects

## npm package.json

package.json is a npm file that specifies project settings

dependencies - dependencies required for production
devDependencies - dependencies required for development
scripts - scripts for the project. executed with **npm run <script-name>**
other properties of the project include title, description...

create a package.json

```sh
mdir js-proj
cd js-proj
npm init
```

## volta pin

volta is a version manager for node, npm and some other tools
it will pin a project to a particular version of node.

A volta object will be added to package.json

```sh
volta pin node@20
```

## git 

add a git repository
```sh
git init
```

### create **.gitignore**

```text
node_modules
```

## EditorConfig

EditorConfig is supported by most editors directly or via editor plugin.

create **.editorconfig** file

```json
# Editor configuration, see http://editorconfig.org
root = true

[*]
charset = utf-8
indent_style = space
indent_size = 2
insert_final_newline = true
trim_trailing_whitespace = true

end_of_line = lf

[*.md]
trim_trailing_whitespace = false
```

## prettier

prettier is an opinionated code formatter. Some items overlap with EditorConfig,
but has more style guide type formatting.

```sh
npm install -D prettier
```

Example prettier config **.prettierrc**

```json
{
  "singleQuote": true,
  "printWidth": 120,
  "useTabs": false,
  "tabWidth": 2,
  "bracketSpacing": true,
  "arrowParens": "always",
  "trailingComma": "es5"
}
```

create .prettierignore to contain list of files for prettier to ignore

```text
# node_modules
node_modules

# ignore build output
dist

# CHANGELOG auto generated by conventional commits
CHANGELOG.md

# nextjs build output
.next

# ignore package-lock
package-lock.json
```

### VS Code settings

File > Preferences > settings
Search for: format

Editor: Default Formatter => Prettier - Code Formatter
Editor: Format On Paste is checked
Editor: Format On Save is checked

## npm script

open package.json
in scripts add a format script

```json
...
"scripts": {
  "format": "npx prettier --write .",
},
...
```

## eslint

eslint scans code using rules and will either warn or error depending on the
configuration

```sh
npm i -D eslint
```

initialize @eslint/config

```sh
npm init @eslint/config
```

How would you like to use ESLint? **To check syntax, find problems and code style**
What type of modules does your project use? **commonjs**
Which framework does your project use? **None of these**
Does your project use TypeScript? **No**
Where does your code run? **Select both browser and node**
Use a popular style guide? **Select Airbnb**
What format do you want your config file to be in? **JavaScript**

Install dependencies? Yes

A .eslintrc.js file will be created and package.json modified

### add npm script to scripts section

```json
  "lint": "npx eslint ./"
```

## Override eslint rules that overlap with prettier

```sh
npm i -D eslint-config-prettier
```

open **.eslintrc.js**
modify the **extends** array

```json
extends: ['airbnb-base', 'prettier'],
```

## lint and format on commit

husky is a tool to create git hooks easily
git hooks allow code to be executed on commit or push

```sh
npm i -D husky
npx husky init
echo "npm run lint && npm run format && git add -u" > .husky/pre-commit
```

## add a src directory

create a src directory for source code

```sh
mkdir src
```

create a file main.js
add the code as written on one line save the file

editor config and prettier will automatically format the code on save

```js
function foo(){if (true) {console.log(true)}}

```
